<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phan2_bai4</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css"
    />
  </head>
  <body>
    <nav class="p-3">
      <ul
        class="nav nav-pills nav-fill gap-2 p-1 small bg-primary rounded-5 shadow-sm"
        id="pillNav2"
        role="tablist"
        style="
          --bs-nav-link-color: var(--bs-white);
          --bs-nav-pills-link-active-color: var(--bs-primary);
          --bs-nav-pills-link-active-bg: var(--bs-white);
        "
      >
        <li class="nav-item" role="presentation">
          <button
            class="nav-link rounded-5"
            id="home-tab2"
            data-bs-toggle="tab"
            type="button"
            role="tab"
            aria-selected="true"
            onclick="window.location.href='../trang1';"
          >
            Trang 1
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active rounded-5"
            id="profile-tab2"
            data-bs-toggle="tab"
            type="button"
            role="tab"
            aria-selected="false"
            onclick="window.location.href='../trang2';"
          >
            Trang 2
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link rounded-5"
            id="contact-tab2"
            data-bs-toggle="tab"
            type="button"
            role="tab"
            aria-selected="false"
            onclick="window.location.href='../trang3';"
          >
            Trang 3
          </button>
        </li>
      </ul>
    </nav>

    <main class="p-3 m-2" id="searchTrip">
      
      <div class="row">
        <div class="col-10">
          <h2 class="text-danger-emphasis mb-3">Tìm kiếm chuyến xe</h2>
        </div>
        <div class="col">
          <button type="button" class="btn btn-warning" onclick="customer();">Customer</button>
          <button type="button" class="btn btn-warning" onclick="admin();">Admin</button>
        </div>
      </div>
      <form id="search-form">
        <div class="row border border-2 rounded p-2 bg-light">
          <div class="col m">
            <div class="mb-3">
              <label for="start" class="form-label fs-5 text-danger-emphasis"
                >Điểm đi</label
              >
              <div class="row">
                <div class="col">
                  <select
                    class="form-select m-2"
                    id="provinceStart"
                    name="provinceStart"
                  >
                    <option selected value="">Chọn tỉnh</option>
                    <option value="Hồ Chí Minh">Hồ Chí Minh</option>
                  </select>
                </div>
                <div class="col">
                  <select
                    class="form-select m-2"
                    id="districtStart"
                    name="districtStart"
                  >
                    <option selected value="">Chọn huyện</option>
                    <option value="Quận 1">Quận 1</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <label for="end" class="form-label fs-5 text-danger-emphasis"
                >Điểm đến</label
              >
              <div class="row">
                <div class="col">
                  <select
                    class="form-select m-2"
                    id="provinceEnd"
                    name="provinceEnd"
                  >
                    <option selected>Chọn tỉnh</option>
                  </select>
                </div>
                <div class="col">
                  <select
                    class="form-select m-2"
                    id="districtEnd"
                    name="districtEnd"
                  >
                    <option selected>Chọn huyện</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <label for="time" class="form-label fs-5 text-danger-emphasis"
                >Thời gian</label
              >
              <div class="row">
                <div class="col" style="max-width: 46%">
                  <input
                    type="datetime-local"
                    class="form-control m-2"
                    id="timeStart"
                    name="timeStart"
                  />
                </div>
                <div class="col mt-3" style="max-width: 5%">
                  <i class="bi bi-arrow-right"></i>
                </div>
                <div class="col" style="max-width: 46%">
                  <input
                    type="datetime-local"
                    class="form-control m-2"
                    id="timeEnd"
                    name="timeEnd"
                  />
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col">
              <div class="fs-5 text-danger-emphasis">Bộ lọc:</div>
            </div>
            <div class="col-5">
              Nhà xe:
              <select class="form-select mt-2" id="filterCompany" name="filterCompany">
                <option value="">Tất cả</option>
              </select>
            </div>
            <div class="col-5">
              Loại xe:
              <select class="form-select mt-2" id="filterCoachType" name="filterCoachType">
                <option value="">Tất cả</option>
              </select>
            </div>
          </div>

          <div class="row d-flex justify-content-around">
            <button
              type="button"
              class="btn btn-primary"
              style="max-width: 220px"
              onclick="searchTrip();"
            >
              Tìm kiếm
            </button>
          </div>
        </div>
      </form>

      <div class="mt-5">
        <h2 class="text-danger-emphasis">Kết quả</h2>
        <button type="button" class="btn btn-success admin mt-2 mb-2" onclick="showCreateForm();" style="display: none;">Thêm chuyến đi</button>
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col" class="admin" style="display: none;">Mã số chuyến đi</th>
              <th scope="col">Nhà xe</th>
              <th scope="col">Loại xe</th>
              <th scope="col">Giờ khởi hành</th>
              <th scope="col">Ngày khởi hành</th>
              <th scope="col">Giá cả</th>
              <th scope="col">Số lượng vé còn</th>
              <th scope="col" class="admin" style="display: none;">Lựa chọn</th>
            </tr>
          </thead>
          <tbody id="result">
          </tbody>
        </table>
      </div>
    </main>
    <!-- Form thêm chuyến đi -->
    <div id="create-form" class="position-fixed top-50 start-50 translate-middle" style="width: 500px; opacity: 0;">
      <form class="p-5 rounded bg-body-tertiary" id="formCreate">
          <div class="row mb-2 d-flex justify-content-end">
              <h2 class="col-9">Thêm chuyến đi</h2>
              <button type="button" class="btn-close col-2" id="btn-close-create" aria-label="Close", onclick="turnOffCreateForm();"></button>
          </div>
          <label for="CtripCoachId" class="form-label">Mã số xe</label>
          <br>
          <input type="number" name="tripCoachId" id="CtripCoachId" placeholder="Integer" class="form-control">
          <br>
          <label for="CtripRouteId" class="form-label">Mã số tuyến đường</label>
          <br>
          <input type="number" name="tripRouteId" id="CtripRouteId" placeholder="Integer" class="form-control">
          <br>
          <label for="CtripDiverID" class="form-label">Mã số tài xế</label>
          <br>
          <input type="number" name="tripDiverID" id="CtripDiverID" placeholder="Integer" class="form-control">
          <br>
          <label for="CtripTimeStart" class="form-label">Thời gian khởi hành</label>
          <br>
          <input type="datetime-local" class="form-control" id="CtripTimeStart" name="tripTimeStart"/>
          <br>
          <label for="CtripLimitSeat" class="form-label">Số lượng chỗ ngồi</label>
          <br>
          <input type="number" name="tripLimitSeat" id="CtripLimitSeat" placeholder="Integer" class="form-control">
          <br>
          <div class="row justify-content-md-center">
              <button type="button" name="submitCreate" id="submitCreate" class="btn btn-primary" style="width:auto;" onclick="tableAfterCreate();">Thêm</button>
          </div>
      </form>
    </div>

    <!-- Form chỉnh sửa chuyến đi -->
    <div id="modify-form" class="position-fixed top-50 start-50 translate-middle" style="width: 500px;opacity: 0;">
      <form class="p-5 rounded bg-body-tertiary" id="formModify">
          <div class="row mb-2 d-flex justify-content-end">
              <h2 class="col-9">Chỉnh sửa chuyến đi</h2>
              <button type="button" class="btn-close col-2" id="btn-close-create" aria-label="Close", onclick="turnOffModifyForm();"></button>
          </div>
          <input type="hidden" name="tripId" id="MtripId" placeholder="Integer" class="form-control" value="1">

          <label for="MtripCoachId" class="form-label">Mã số xe</label>
          <br>
          <input type="number" name="tripCoachId" id="MtripCoachId" placeholder="Integer" class="form-control">
          <br>
          <label for="MtripRouteId" class="form-label">Mã số tuyến đường</label>
          <br>
          <input type="number" name="tripRouteId" id="MtripRouteId" placeholder="Integer" class="form-control">
          <br>
          <label for="MtripDiverID" class="form-label">Mã số tài xế</label>
          <br>
          <input type="number" name="tripDiverID" id="MtripDiverID" placeholder="Integer" class="form-control">
          <br>
          <label for="MtripTimeStart" class="form-label">Thời gian khởi hành</label>
          <br>
          <input type="datetime-local" class="form-control" id="MtripTimeStart" name="tripTimeStart"/>
          <br>
          <label for="MtripRemainSeat" class="form-label">Số lượng chỗ ngồi</label>
          <br>
          <input type="number" name="tripLimitSeat" id="MtripLimitSeat" placeholder="Integer" class="form-control">
          <br>
          <div class="row justify-content-md-center">
              <button type="button" name="submitModify" id="submitModify" class="btn btn-primary" style="width:auto;" onclick="tableAfterModify()">Chỉnh sửa</button>
          </div>
      </form>
    </div>

    <script src="script.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
